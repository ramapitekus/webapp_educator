{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\olesr\\\\OneDrive\\\\Documents\\\\webapp_educ_2\\\\educator\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { useMemo, useState, useEffect, useRef } from \"react\";\nimport ExplanationButtons from \"./components/ExplanationButtons\";\nimport sttFromMic from \"./components/S2t\";\nimport PlayAudio from \"./components/explanations/PlayAudio\";\nimport PlayVideo from \"./components/explanations/PlayVideo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const initialLeftOffset = 10;\n  const initialTopOffset = 40;\n  const [recording, setRecording] = useState(false);\n  const [commandDuringVideo, setCommandDuringVideo] = useState(null);\n  const [apiResponse, setapiResponse] = useState({\n    topic: null\n  });\n  const [explanations, setExplanations] = useState([]);\n  const [instantExplanation, setInstantExplanation] = useState(null);\n  const explanationType = useRef(\"idle\");\n  const latestButton = useRef(null);\n  const explRef = useRef(explanations);\n  const leftOffsetBtnRef = useRef(initialLeftOffset);\n  const topOffsetBtnRef = useRef(initialTopOffset);\n\n  const getResponse = apiData => {\n    // If utterance not recognized, ignore\n    console.log(apiData);\n\n    if (apiData.command) {\n      setCommandDuringVideo(apiData.command);\n    }\n\n    if (apiData.topic !== \"none\") {\n      if (apiData.playInstantly === \"true\") {\n        setInstantExplanation({\n          name: apiData.topic,\n          url: apiData.url,\n          mediaType: apiData.mediaType\n        });\n      } else {\n        setapiResponse(apiData);\n      }\n    }\n  };\n\n  const removeExplanation = () => {\n    instantExplanation.mediaType = null;\n    explanationType.current = \"idle\";\n    setInstantExplanation(null);\n  };\n\n  const setColorProp = explanations => {\n    // TODO: Remove hacky copying\n    var copyExplanations = JSON.parse(JSON.stringify(explanations));\n    copyExplanations.forEach(explanation => {\n      if (explanation.name === apiResponse.topic) {\n        explanation.colored = true;\n      }\n    });\n    setExplanations(copyExplanations);\n  };\n\n  const unsetColorProp = button => {\n    // TODO: Remove hacky copying\n    var copyExplanations = JSON.parse(JSON.stringify(explRef.current));\n    copyExplanations.forEach(explanation => {\n      if (explanation.name === button && explanation.colored === true) {\n        explanation.colored = false;\n        setExplanations(copyExplanations);\n      }\n    });\n  };\n\n  const existsInArr = updatedExplanations => {\n    return updatedExplanations.find(expl => {\n      return expl.name === apiResponse.topic;\n    });\n  };\n\n  const removeOldestButton = intermediateExplanations => {\n    return intermediateExplanations.filter(expl => explanations[0].name !== expl.name);\n  };\n\n  const setNextButtonLocation = () => {\n    if (topOffsetBtnRef.current > initialTopOffset) {\n      topOffsetBtnRef.current -= 15;\n    } else {\n      topOffsetBtnRef.current += 15;\n    }\n\n    leftOffsetBtnRef.current += 15;\n  };\n\n  useEffect(() => {\n    explRef.current = explanations;\n  }, [explanations]);\n  useEffect(() => {\n    let intermediateExplanations = explanations; // Block which handles if button does not exist yet\n\n    if (apiResponse.topic) {\n      latestButton.current = apiResponse.topic;\n\n      if (!existsInArr(intermediateExplanations)) {\n        // If more than 5 buttons present, remove oldest one\n        if (intermediateExplanations.length >= 5) {\n          intermediateExplanations = removeOldestButton(intermediateExplanations);\n        } else {\n          setNextButtonLocation();\n          setExplanations([...intermediateExplanations, {\n            name: apiResponse.topic,\n            colored: true,\n            url: apiResponse.url,\n            topOffset: topOffsetBtnRef.current,\n            leftOffset: leftOffsetBtnRef.current\n          }]);\n        }\n      }\n\n      if (existsInArr(intermediateExplanations)) {\n        setColorProp(intermediateExplanations); //}\n      } // Change color property of button if already exists\n\n    }\n  }, //// eslint-disable-next-line react-hooks/exhaustive-deps\n  [apiResponse]); // 10s after mentioning the topic, return the color back to gray\n\n  useEffect(() => {\n    const button = latestButton.current; // assign the button associated with this instance of useEffect\n\n    setTimeout(() => {\n      unsetColorProp(button);\n    }, 10000);\n  }, [explanations]);\n  let [startRec, stopRec] = useMemo(() => {\n    return sttFromMic(getResponse, explanationType);\n  }, []);\n  useEffect(() => {\n    recording ? startRec() : stopRec();\n\n    if (instantExplanation) {\n      setInstantExplanation(null);\n    }\n  }, [recording]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: recording ? \"button buttonStop\" : \"button buttonStart\",\n      onClick: () => {\n        setRecording(!recording);\n        setInstantExplanation(null);\n      },\n      children: recording ? \"Educator stoppen\" : \"Educator starten\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), instantExplanation && instantExplanation.mediaType === \"audio\" && /*#__PURE__*/_jsxDEV(PlayAudio, {\n      url: instantExplanation.url,\n      callback: removeExplanation,\n      explanationType: explanationType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this), instantExplanation && instantExplanation.mediaType === \"video\" && /*#__PURE__*/_jsxDEV(PlayVideo, {\n      videostr: instantExplanation.url,\n      btnName: instantExplanation.name,\n      callback: removeExplanation,\n      explanationType: explanationType,\n      command: commandDuringVideo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }, this), recording && /*#__PURE__*/_jsxDEV(ExplanationButtons, {\n      topics: explanations,\n      explanationType: explanationType,\n      command: commandDuringVideo,\n      setCommandDuringVideo: setCommandDuringVideo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"8As52qV0DgTLMhKG95cDA7kQSXQ=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/olesr/OneDrive/Documents/webapp_educ_2/educator/src/App.js"],"names":["useMemo","useState","useEffect","useRef","ExplanationButtons","sttFromMic","PlayAudio","PlayVideo","App","initialLeftOffset","initialTopOffset","recording","setRecording","commandDuringVideo","setCommandDuringVideo","apiResponse","setapiResponse","topic","explanations","setExplanations","instantExplanation","setInstantExplanation","explanationType","latestButton","explRef","leftOffsetBtnRef","topOffsetBtnRef","getResponse","apiData","console","log","command","playInstantly","name","url","mediaType","removeExplanation","current","setColorProp","copyExplanations","JSON","parse","stringify","forEach","explanation","colored","unsetColorProp","button","existsInArr","updatedExplanations","find","expl","removeOldestButton","intermediateExplanations","filter","setNextButtonLocation","length","topOffset","leftOffset","setTimeout","startRec","stopRec"],"mappings":"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","sourcesContent":["import \"./App.css\";\r\nimport { useMemo, useState, useEffect, useRef } from \"react\";\r\nimport ExplanationButtons from \"./components/ExplanationButtons\";\r\nimport sttFromMic from \"./components/S2t\";\r\nimport PlayAudio from \"./components/explanations/PlayAudio\";\r\nimport PlayVideo from \"./components/explanations/PlayVideo\";\r\n\r\nfunction App() {\r\n  const initialLeftOffset = 10;\r\n  const initialTopOffset = 40;\r\n  const [recording, setRecording] = useState(false);\r\n  const [commandDuringVideo, setCommandDuringVideo] = useState(null);\r\n  const [apiResponse, setapiResponse] = useState({ topic: null });\r\n  const [explanations, setExplanations] = useState([]);\r\n  const [instantExplanation, setInstantExplanation] = useState(null);\r\n  const explanationType = useRef(\"idle\");\r\n  const latestButton = useRef(null);\r\n  const explRef = useRef(explanations);\r\n  const leftOffsetBtnRef = useRef(initialLeftOffset);\r\n  const topOffsetBtnRef = useRef(initialTopOffset);\r\n\r\n  const getResponse = (apiData) => {\r\n    // If utterance not recognized, ignore\r\n    console.log(apiData);\r\n    if (apiData.command) {\r\n      setCommandDuringVideo(apiData.command);\r\n    }\r\n    if (apiData.topic !== \"none\") {\r\n      if (apiData.playInstantly === \"true\") {\r\n        setInstantExplanation({\r\n          name: apiData.topic,\r\n          url: apiData.url,\r\n          mediaType: apiData.mediaType,\r\n        });\r\n      } else {\r\n        setapiResponse(apiData);\r\n      }\r\n    }\r\n  };\r\n\r\n  const removeExplanation = () => {\r\n    instantExplanation.mediaType = null;\r\n    explanationType.current = \"idle\";\r\n    setInstantExplanation(null);\r\n  };\r\n\r\n  const setColorProp = (explanations) => {\r\n    // TODO: Remove hacky copying\r\n    var copyExplanations = JSON.parse(JSON.stringify(explanations));\r\n    copyExplanations.forEach((explanation) => {\r\n      if (explanation.name === apiResponse.topic) {\r\n        explanation.colored = true;\r\n      }\r\n    });\r\n    setExplanations(copyExplanations);\r\n  };\r\n\r\n  const unsetColorProp = (button) => {\r\n    // TODO: Remove hacky copying\r\n    var copyExplanations = JSON.parse(JSON.stringify(explRef.current));\r\n    copyExplanations.forEach((explanation) => {\r\n      if (explanation.name === button && explanation.colored === true) {\r\n        explanation.colored = false;\r\n        setExplanations(copyExplanations);\r\n      }\r\n    });\r\n  };\r\n\r\n  const existsInArr = (updatedExplanations) => {\r\n    return updatedExplanations.find((expl) => {\r\n      return expl.name === apiResponse.topic;\r\n    });\r\n  };\r\n\r\n  const removeOldestButton = (intermediateExplanations) => {\r\n    return intermediateExplanations.filter(\r\n      (expl) => explanations[0].name !== expl.name\r\n    );\r\n  };\r\n\r\n  const setNextButtonLocation = () => {\r\n    if (topOffsetBtnRef.current > initialTopOffset) {\r\n      topOffsetBtnRef.current -= 15;\r\n    } else {\r\n      topOffsetBtnRef.current += 15;\r\n    }\r\n    leftOffsetBtnRef.current += 15;\r\n  };\r\n\r\n  useEffect(() => {\r\n    explRef.current = explanations;\r\n  }, [explanations]);\r\n\r\n  useEffect(\r\n    () => {\r\n      let intermediateExplanations = explanations;\r\n\r\n      // Block which handles if button does not exist yet\r\n      if (apiResponse.topic) {\r\n        latestButton.current = apiResponse.topic;\r\n        if (!existsInArr(intermediateExplanations)) {\r\n          // If more than 5 buttons present, remove oldest one\r\n          if (intermediateExplanations.length >= 5) {\r\n            intermediateExplanations = removeOldestButton(\r\n              intermediateExplanations\r\n            );\r\n          } else {\r\n            setNextButtonLocation();\r\n            setExplanations([\r\n              ...intermediateExplanations,\r\n              {\r\n                name: apiResponse.topic,\r\n                colored: true,\r\n                url: apiResponse.url,\r\n                topOffset: topOffsetBtnRef.current,\r\n                leftOffset: leftOffsetBtnRef.current,\r\n              },\r\n            ]);\r\n          }\r\n        }\r\n        if (existsInArr(intermediateExplanations)) {\r\n          setColorProp(intermediateExplanations);\r\n          //}\r\n        }\r\n        // Change color property of button if already exists\r\n      }\r\n    },\r\n    //// eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [apiResponse]\r\n  );\r\n\r\n  // 10s after mentioning the topic, return the color back to gray\r\n  useEffect(() => {\r\n    const button = latestButton.current; // assign the button associated with this instance of useEffect\r\n    setTimeout(() => {\r\n      unsetColorProp(button);\r\n    }, 10000);\r\n  }, [explanations]);\r\n\r\n  let [startRec, stopRec] = useMemo(() => {\r\n    return sttFromMic(getResponse, explanationType);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    recording ? startRec() : stopRec();\r\n    if (instantExplanation) {\r\n      setInstantExplanation(null);\r\n    }\r\n  }, [recording]);\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        className={recording ? \"button buttonStop\" : \"button buttonStart\"}\r\n        onClick={() => {\r\n          setRecording(!recording);\r\n          setInstantExplanation(null);\r\n        }}\r\n      >\r\n        {recording ? \"Educator stoppen\" : \"Educator starten\"}\r\n      </button>\r\n      {instantExplanation && instantExplanation.mediaType === \"audio\" && (\r\n        <PlayAudio\r\n          url={instantExplanation.url}\r\n          callback={removeExplanation}\r\n          explanationType={explanationType}\r\n        />\r\n      )}\r\n      {instantExplanation && instantExplanation.mediaType === \"video\" && (\r\n        <PlayVideo\r\n          videostr={instantExplanation.url}\r\n          btnName={instantExplanation.name}\r\n          callback={removeExplanation}\r\n          explanationType={explanationType}\r\n          command={commandDuringVideo}\r\n        />\r\n      )}\r\n\r\n      {recording && (\r\n        <ExplanationButtons\r\n          topics={explanations}\r\n          explanationType={explanationType}\r\n          command={commandDuringVideo}\r\n          setCommandDuringVideo={setCommandDuringVideo}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}